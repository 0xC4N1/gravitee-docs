[[gravitee-installation-guide-docker]]

## Docker
:docker-image-src: https://raw.githubusercontent.com/gravitee-io/gravitee-docker/master/images
:github-repo: https://github.com/gravitee-io/gravitee-docker
:docker-hub: https://hub.docker.com/r/graviteeio

Official registry: https://hub.docker.com/u/graviteeio/[] +
Source repository: https://github.com/gravitee-io/gravitee-docker/[]

IMPORTANT: We assume that you are familiar with Docker terms. +
To run our official images, you must start by installing https://docs.docker.com/installation/[Docker]

'''

### Images
We provide a complete set of images, based on the official https://hub.docker.com/_/centos/[Centos 6 image].

|===
|Image name |Source |Version |Description

|{docker-hub}/httpd/[graviteeio/httpd]
|{github-repo}/tree/master/images/base/httpd[images/base/httpd]
|latest
|Base image with Apache httpd

|{docker-hub}/java/[graviteeio/java]
|{github-repo}/tree/master/images/base/java[images/base/java]
|8u45
|Base image with Oracle Java 8u45

|{docker-hub}/kibana3/[graviteeio/kibana3]
|{github-repo}/tree/master/images/kibana3[images/kibana3]
|latest
|https://www.elastic.co/products/kibana[Kibana3] image.
Provide a complete dashboard in addition with https://www.elastic.co/products/elasticsearch[Elasticsearch]

|{docker-hub}/elasticsearch/[graviteeio/elasticsearch]
|{github-repo}/tree/master/images/elasticsearch[images/elasticsearch]
|latest
|https://www.elastic.co/products/elasticsearch[Elasticsearch] image.
Collect datas from the https://github.com/gravitee-io/gravitee-reporter-es[Elasticsearch Reporter].

|{docker-hub}/gateway/[graviteeio/gateway]
|{github-repo}/tree/master/images/gateway[images/gateway]
|latest
|https://github.com/gravitee-io/gravitee-gateway[Gateway] image.

|{docker-hub}/management-api/[graviteeio/management-api]
|{github-repo}/tree/master/images/management-api[images/management-api]
|latest
|https://github.com/gravitee-io/gravitee-management-rest-api[Management API] image.

|{docker-hub}/management-ui/[graviteeio/management-ui]
|{github-repo}/tree/master/images/management-ui[images/management-ui]
|latest
|https://github.com/gravitee-io/gravitee-management-ui[Management UI] image.

|{docker-hub}/mongodb/[graviteeio/mongodb]
|{github-repo}/tree/master/images/mongodb[images/mongodb]
|latest
|https://www.mongodb.org/[mongoDB] image.

|===


### Details

#### graviteeio/httpd

.Dockerfile
....
include::{docker-image-src}/base/httpd/Dockerfile [lines=13..-1]
....

A CentOS 6 with HTTPd and some tools. 
This is a base image for all apps requiring an HTTP server.

#### graviteeio/java

.Dockerfile
....
include::{docker-image-src}/base/java/Dockerfile [lines=13..-1]
....

A CentOS 6 with a Java Runtime 8u45 and some tools.
This is a base image for all Java apps.

#### graviteeio/kibana3

.Dockerfile
....
include::{docker-image-src}/kibana3/Dockerfile [lines=13..-1]
....

Kibana3 image provide a complete dashboard over gravitee usage.
Because Kibana3 need Elacticsearch at runtime, you have 2 environment variables to modify (via `docker run --env`) :

* ES_HOST
* ES_PORT

Because this image is used in our demo, another variable is provided : `check_links`
If you set it to true, Kibana3 container will test if the host named `elasticsearch` with port `9200` is reachable inside the container
And only after that, the httpd server will start.
On startup, the container will post his dashboard into elasticsearh.

#### graviteeio/elasticsearch

.Dockerfile
....
include::{docker-image-src}/elasticsearch/Dockerfile [lines=13..-1]
....

Elasticsearch image work with our https://github.com/gravitee-io/gravitee-reporter-es[Elasticsearch Reporter] and render his data via our Kibana3 image.

#### graviteeio/gateway

.Dockerfile
....
include::{docker-image-src}/gateway/Dockerfile [lines=13..-1]
....



#### graviteeio/management-api

.Dockerfile
....
include::{docker-image-src}/management-api/Dockerfile [lines=13..-1]
....

#### graviteeio/management-ui

.Dockerfile
....
include::{docker-image-src}/management-ui/Dockerfile [lines=13..-1]
....

#### graviteeio/mongodb

.Dockerfile
....
include::{docker-image-src}/mongodb/Dockerfile [lines=13..-1]
....
